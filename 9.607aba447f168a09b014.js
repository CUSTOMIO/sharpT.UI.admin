(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"gs+/":function(t,e,n){"use strict";n.r(e),n.d(e,"ResultModule",function(){return N});var i=n("ofXK"),a=n("PCNd"),r=n("tyNb"),o=n("3Pt+"),c=n("0IaG"),s=n("fXoL"),l=n("RiFG"),d=n("NFeN"),u=n("f0Cb"),b=n("bTqV"),m=n("kmnG"),f=n("qFsG"),p=n("Xa2L");function h(t,e){if(1&t&&(s.Ub(0,"div"),s.Ub(1,"div",9),s.Ub(2,"mat-form-field",10),s.Ub(3,"mat-label"),s.Cc(4,"Name"),s.Tb(),s.Pb(5,"input",11),s.Tb(),s.Ub(6,"mat-form-field",12),s.Ub(7,"mat-label"),s.Cc(8,"Marks Obtained"),s.Tb(),s.Pb(9,"input",13),s.Tb(),s.Ub(10,"mat-form-field",10),s.Ub(11,"mat-label"),s.Cc(12,"Out Of"),s.Tb(),s.Pb(13,"input",14),s.Tb(),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Db(1),s.lc("formGroup",t)}}function g(t,e){if(1&t){const t=s.Vb();s.Ub(0,"form",6),s.cc("ngSubmit",function(){return s.uc(t),s.gc().onSubmit()}),s.Bc(1,h,14,1,"div",7),s.Ub(2,"button",8),s.Cc(3,"Submit"),s.Tb(),s.Tb()}if(2&t){const t=s.gc();s.lc("formGroup",t.resultForm),s.Db(1),s.lc("ngForOf",t.t.controls)}}function C(t,e){1&t&&s.Pb(0,"mat-spinner",15),2&t&&s.lc("diameter",40)}let x=(()=>{class t{constructor(t,e,n,i,a){this.data=t,this.dialogRef=e,this.userService=n,this.formBuilder=i,this.examinationSubjectDetailService=a,this.spinnerLoading=!0,this.resultForm=this.formBuilder.group({data:new o.d([])})}get t(){return this.resultForm.controls.data}ngOnInit(){this.userService.getUserSubject(this.data.user.userId).subscribe(t=>{this.userSubject=t;for(let e of this.userSubject)this.t.push(this.formBuilder.group({userId:[this.data.user.userId,[o.t.required]],examinationDetailId:[this.data.searchResult.examinationDetailId,[o.t.required]],subjectId:[e.subjectId,[o.t.required]],subjectName:[e.name,[o.t.required]],marksObtained:["",[o.t.required]],outOf:["",[o.t.required]]}));this.getExaminationSubjectDetail(this.data.searchResult.examinationDetailId)})}patchValues(t){return this.formBuilder.group({subjectId:[t],examinationDetailId:this.data.searchResult.examinationDetailId,userId:this.data.user.userId})}getExaminationSubjectDetail(t){this.examinationSubjectDetailService.getExaminationSubjectDetail(t).subscribe(t=>{t.forEach(t=>{this.userSubject.forEach(e=>{if(t.subjectId==e.subjectId){const e=this.t.value.findIndex((e,n)=>e.subjectId===t.subjectId);this.t.at(e).patchValue({outOf:t.outOf})}})}),this.spinnerLoading=!1,console.log("Trigggered")})}onSubmit(){console.log(this.resultForm.get("data").value)}closeDialog(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.a),s.Ob(c.d),s.Ob(l.i),s.Ob(o.e),s.Ob(l.e))},t.\u0275cmp=s.Ib({type:t,selectors:[["ng-component"]],decls:17,vars:4,consts:[[1,"header"],[1,"mat-headline"],[3,"click"],[1,"mat-subheading-2"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"diameter",4,"ngIf"],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary"],[3,"formGroup"],["appearance","standard"],["matInput","","formControlName","subjectName"],["appearance","standard",1,"ml-20","mr-20"],["matInput","","formControlName","marksObtained"],["matInput","","formControlName","outOf"],[3,"diameter"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"p",1),s.Cc(2,"Result"),s.Tb(),s.Ub(3,"mat-icon",2),s.cc("click",function(){return e.closeDialog()}),s.Cc(4,"close"),s.Tb(),s.Tb(),s.Pb(5,"mat-divider"),s.Ub(6,"div",3),s.Ub(7,"p"),s.Ub(8,"b"),s.Cc(9,"Name"),s.Tb(),s.Cc(10),s.Tb(),s.Ub(11,"p"),s.Ub(12,"b"),s.Cc(13,"Email"),s.Tb(),s.Cc(14),s.Tb(),s.Tb(),s.Bc(15,g,4,2,"form",4),s.Bc(16,C,1,1,"mat-spinner",5)),2&t&&(s.Db(10),s.Ec(" : ",e.data.user.firstName+" "+e.data.user.middleName,""),s.Db(4),s.Ec(" : ",e.data.user.email,""),s.Db(1),s.lc("ngIf",!e.spinnerLoading),s.Db(1),s.lc("ngIf",e.spinnerLoading))},directives:[d.a,u.a,i.k,o.u,o.o,o.g,i.j,b.a,m.b,m.e,f.b,o.c,o.n,o.f,p.b],styles:[".header[_ngcontent-%COMP%]{margin-bottom:10px;height:32px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:left;width:80%;padding:0;margin:0}.header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0;cursor:pointer}button[_ngcontent-%COMP%]{display:block;margin:0 auto}"]}),t})();var O=n("+0xr"),D=n("d3UM"),v=n("FKr1");function U(t,e){if(1&t&&s.Pb(0,"mat-option",18),2&t){const t=e.$implicit;s.lc("value",t.id)("innerHTML",t.name,s.vc)}}function I(t,e){if(1&t&&s.Pb(0,"mat-option",18),2&t){const t=e.$implicit;s.lc("value",t.id)("innerHTML",t.examinationName,s.vc)}}function T(t,e){1&t&&(s.Ub(0,"th",19),s.Cc(1," Name "),s.Tb())}function P(t,e){if(1&t&&(s.Ub(0,"td",20),s.Cc(1),s.Tb()),2&t){const t=e.$implicit;s.Db(1),s.Ec(" ",t.firstName+" "+t.middleName," ")}}function S(t,e){1&t&&(s.Ub(0,"th",19),s.Cc(1," Email "),s.Tb())}function w(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",21),s.cc("click",function(){s.uc(t);const n=e.$implicit;return s.gc().openDialog(n)}),s.Cc(1),s.Tb()}if(2&t){const t=e.$implicit;s.Db(1),s.Ec(" ",t.email," ")}}function M(t,e){1&t&&s.Pb(0,"tr",22)}function j(t,e){1&t&&s.Pb(0,"tr",23)}const _=[{path:"",component:(()=>{class t{constructor(t,e,n,i,a,r){this.standardService=t,this.userService=e,this.examinationService=n,this.formbuilder=i,this.dialog=a,this.router=r,this.displayedColumns=["email","name"],this.resultPerPage=20,this.pageSizeOptions=[20,50,100],this.pageIndex=1,this.isLoading=!0,this.searchResult=this.formbuilder.group({standardId:["",[o.t.required]],examinationDetailId:["",[o.t.required]]})}ngOnInit(){this.standardService.getStandard().subscribe(t=>{this.standard=t})}getUser(t){this.userService.getUserBySId(this.resultPerPage,this.pageIndex,t).subscribe(t=>{this.user=t,this.dataSource=new O.k(t)})}getExamAndUserDetail(t){this.examinationService.getExaminationDetailBySId(t).subscribe(t=>{this.examinationDetail=t}),this.getUser(t)}openDialog(t){this.searchResult.invalid||this.dialog.open(x,{width:"fit-content ",data:{user:t,searchResult:this.searchResult.value}}).afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(l.g),s.Ob(l.i),s.Ob(l.c),s.Ob(o.e),s.Ob(c.b),s.Ob(r.b))},t.\u0275cmp=s.Ib({type:t,selectors:[["ng-component"]],decls:24,vars:6,consts:[[1,"container"],[1,"filter-div"],["appearance","standard",1,"filter-input"],["matInput","","placeholder","filterlist..."],[3,"formGroup"],["appearance","standard",1,"search-input"],["placeholder","Standard...","formControlName","standardId",3,"selectionChange"],[3,"value","innerHTML",4,"ngFor","ngForOf"],["placeholder","Examination...","formControlName","examinationDetailId"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value","innerHTML"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div"),s.Ub(3,"mat-form-field",2),s.Ub(4,"mat-label"),s.Cc(5,"Filter"),s.Tb(),s.Pb(6,"input",3),s.Tb(),s.Ub(7,"form",4),s.Ub(8,"mat-form-field",5),s.Ub(9,"mat-select",6),s.cc("selectionChange",function(t){return e.getExamAndUserDetail(t.value)}),s.Bc(10,U,1,2,"mat-option",7),s.Tb(),s.Tb(),s.Ub(11,"mat-form-field",5),s.Ub(12,"mat-select",8),s.Bc(13,I,1,2,"mat-option",7),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(14,"div",9),s.Ub(15,"table",10),s.Sb(16,11),s.Bc(17,T,2,0,"th",12),s.Bc(18,P,2,1,"td",13),s.Rb(),s.Sb(19,14),s.Bc(20,S,2,0,"th",12),s.Bc(21,w,2,1,"td",15),s.Rb(),s.Bc(22,M,1,0,"tr",16),s.Bc(23,j,1,0,"tr",17),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Db(7),s.lc("formGroup",e.searchResult),s.Db(3),s.lc("ngForOf",e.standard),s.Db(3),s.lc("ngForOf",e.examinationDetail),s.Db(2),s.lc("dataSource",e.dataSource),s.Db(7),s.lc("matHeaderRowDef",e.displayedColumns),s.Db(1),s.lc("matRowDefColumns",e.displayedColumns))},directives:[m.b,m.e,f.b,o.u,o.o,o.g,D.a,o.n,o.f,i.j,O.j,O.c,O.e,O.b,O.g,O.i,v.n,O.d,O.a,O.f,O.h],styles:[".filter-div[_ngcontent-%COMP%]{width:100%;height:80px;display:inline-block;padding:5px 0;border-radius:20px 20px 0 0;background-color:#a2d6f91a;box-shadow:0 5px 5px -3px #0000001a,0 8px 10px 1px #00000012,0 3px 14px 2px #0000000f}.filter-div[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{margin-left:20px;float:left;max-width:300px}.filter-div[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-left:20px;float:left;max-width:125px}.container[_ngcontent-%COMP%]{width:95%;margin:50px auto 100px}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.container[_ngcontent-%COMP%]   .user-exist[_ngcontent-%COMP%]{color:#000;cursor:pointer;text-decoration:underline;-webkit-text-decoration-color:grey;text-decoration-color:grey}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:50%;text-align:center}"]}),t})()},{path:":userId",component:x}];let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({imports:[[r.f.forChild(_)],r.f]}),t})(),N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({providers:[],imports:[[i.c,R,a.a]]}),t})()}}]);